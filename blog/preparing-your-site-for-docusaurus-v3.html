<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Preparing your site for Docusaurus v3 | Docusaurus</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=pt_BR><meta data-rh=true property=og:locale:alternate content=ko><meta data-rh=true property=og:locale:alternate content=zh_CN><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Preparing your site for Docusaurus v3 | Docusaurus"><meta data-rh=true name=description content="This blog post was written when Docusaurus v3 was in beta. There are some changes in dependency versions and upgrade steps you should be aware of if upgrading to Docusaurus v3 current stable releases. Use the upgrade guide for the most up-to-date migration steps."><meta data-rh=true property=og:description content="This blog post was written when Docusaurus v3 was in beta. There are some changes in dependency versions and upgrade steps you should be aware of if upgrading to Docusaurus v3 current stable releases. Use the upgrade guide for the most up-to-date migration steps."><meta data-rh=true property=og:image content=https://docusaurus.qubitpi.org/assets/images/social-card-1c688c53b51bdaa6e15ae532bf756276.png><meta data-rh=true name=twitter:image content=https://docusaurus.qubitpi.org/assets/images/social-card-1c688c53b51bdaa6e15ae532bf756276.png><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2023-09-29T00:00:00.000Z><meta data-rh=true property=article:author content=https://thisweekinreact.com><meta data-rh=true property=article:tag content=Maintenance><link data-rh=true rel=icon href=/img/docusaurus.ico><link data-rh=true rel=canonical href=https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3 hreflang=en><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/fr/blog/preparing-your-site-for-docusaurus-v3 hreflang=fr><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/pt-BR/blog/preparing-your-site-for-docusaurus-v3 hreflang=pt-BR><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/ko/blog/preparing-your-site-for-docusaurus-v3 hreflang=ko><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/zh-CN/blog/preparing-your-site-for-docusaurus-v3 hreflang=zh-CN><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3 hreflang=x-default><link data-rh=true rel=preconnect href=https://X1Z85QJPUV-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3","@type":"BlogPosting","author":{"@type":"Person","description":"Docusaurus maintainer, This Week In React editor","image":"https://github.com/slorber.png","name":"S√©bastien Lorber","url":"https://thisweekinreact.com"},"dateModified":"2025-07-10T19:03:33.000Z","datePublished":"2023-09-29T00:00:00.000Z","description":"This blog post was written when Docusaurus v3 was in beta. There are some changes in dependency versions and upgrade steps you should be aware of if upgrading to Docusaurus v3 current stable releases. Use the upgrade guide for the most up-to-date migration steps.","headline":"Preparing your site for Docusaurus v3","image":{"@id":"https://docusaurus.qubitpi.org/assets/images/social-card-1c688c53b51bdaa6e15ae532bf756276.png","@type":"ImageObject","caption":"title image for the blog post: Preparing your site for Docusaurus v3","contentUrl":"https://docusaurus.qubitpi.org/assets/images/social-card-1c688c53b51bdaa6e15ae532bf756276.png","url":"https://docusaurus.qubitpi.org/assets/images/social-card-1c688c53b51bdaa6e15ae532bf756276.png"},"isPartOf":{"@id":"https://docusaurus.qubitpi.org/blog","@type":"Blog","name":"Docusaurus blog"},"keywords":[],"mainEntityOfPage":"https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3","name":"Preparing your site for Docusaurus v3","url":"https://docusaurus.qubitpi.org/blog/preparing-your-site-for-docusaurus-v3"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Docusaurus RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Docusaurus Atom Feed"><link rel=alternate type=application/json href=/blog/feed.json title="Docusaurus JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-E5CR2Q1NRE"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E5CR2Q1NRE",{})</script><link rel=search type=application/opensearchdescription+xml title=Docusaurus href=/opensearch.xml><link rel=alternate type=application/rss+xml href=/changelog/rss.xml title="Docusaurus changelog RSS Feed"><link rel=alternate type=application/atom+xml href=/changelog/atom.xml title="Docusaurus changelog Atom Feed"><link rel=alternate type=application/json href=/changelog/feed.json title="Docusaurus changelog JSON Feed"><link rel=icon href=/img/docusaurus.png><link rel=manifest href=/manifest.json><meta name=theme-color content="rgb(37, 194, 160)"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#000><link rel=apple-touch-icon href=/img/docusaurus.png><link rel=mask-icon href=/img/docusaurus.png color="rgb(62, 204, 94)"><meta name=msapplication-TileImage content=/img/docusaurus.png><meta name=msapplication-TileColor content=#000><link rel=alternate type=application/rss+xml href=/tests/blog/rss.xml title="Docusaurus Tests Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/tests/blog/atom.xml title="Docusaurus Tests Blog Atom Feed"><link rel=alternate type=application/json href=/tests/blog/feed.json title="Docusaurus Tests Blog JSON Feed"><link rel=stylesheet href=/katex/katex.min.css type=text/css><link rel=stylesheet href=/assets/css/styles.410c0611.css><script src=/assets/js/runtime~main.fc545734.js defer></script><script src=/assets/js/main.2057ff64.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme-13c")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss-13c")}catch(t){}return!1}())</script><div id=__docusaurus><link rel=preload as=image href=/img/docusaurus.svg><link rel=preload as=image href=/img/docusaurus_keytar.svg><link rel=preload as=image href=https://github.com/slorber.png><link rel=preload as=image href=/img/meta_opensource_logo_negative.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_UHvc href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class="theme-announcement-bar announcementBar_cTOO" role=banner><div class=announcementBarPlaceholder_Lqfg></div><div class="content_ttnW announcementBarContent_PjqA">üéâÔ∏è <b><a target=_blank href=https://docusaurus.io/blog/releases/3.8>Docusaurus v3.8</a> is out!</b> ü•≥Ô∏è</div><button type=button aria-label=Close class="clean-btn close closeButton_nmpN announcementBarClose_UFLi"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_uAgx"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/docusaurus.svg alt="" class="themedComponent_bJGS themedComponent--light_LEkC" height=32 width=32><img src=/img/docusaurus_keytar.svg alt="" class="themedComponent_bJGS themedComponent--dark_jnGk" height=32 width=32></div><b class="navbar__title text--truncate">Docusaurus</b></a><a class="navbar__item navbar__link" href=/docs>Docs</a><a class="navbar__item navbar__link" href=/docs/cli>API</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/showcase>Showcase</a><a class="navbar__item navbar__link" href=/community/support>Community</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs>Canary üöß</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs>Canary üöß</a><li class=""><hr class=dropdown-separator><li class=dropdown-archived-versions><b>Archived versions</b><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.3.1 target=_blank rel="noopener noreferrer" class=dropdown__link>2.3.1<svg width=12 height=12 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.2.0 target=_blank rel="noopener noreferrer" class=dropdown__link>2.2.0<svg width=12 height=12 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.1.0 target=_blank rel="noopener noreferrer" class=dropdown__link>2.1.0<svg width=12 height=12 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.0.1 target=_blank rel="noopener noreferrer" class=dropdown__link>2.0.1<svg width=12 height=12 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li><a href=https://v1.docusaurus.io target=_blank rel="noopener noreferrer" class=dropdown__link>1.x.x<svg width=12 height=12 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=""><hr class=dropdown-separator><li><a class=dropdown__link href=/versions>All versions</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_tqOs><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/blog/preparing-your-site-for-docusaurus-v3 target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/fr/blog/preparing-your-site-for-docusaurus-v3 target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Fran√ßais</a><li><a href=/pt-BR/blog/preparing-your-site-for-docusaurus-v3 target=_self rel="noopener noreferrer" class=dropdown__link lang=pt-BR>Portugu√™s (Brasil)</a><li><a href=/ko/blog/preparing-your-site-for-docusaurus-v3 target=_self rel="noopener noreferrer" class=dropdown__link lang=ko>ÌïúÍµ≠Ïñ¥</a><li><a href=/zh-CN/blog/preparing-your-site-for-docusaurus-v3 target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-CN>‰∏≠ÊñáÔºà‰∏≠ÂõΩÔºâ</a><li class=""><hr style="margin: 0.3rem 0;"><li><a href=https://github.com/facebook/docusaurus/issues/3526 target=_blank rel="noopener noreferrer" class=dropdown__link>Help Us Translate<svg width=12 height=12 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a></ul></div><a href=https://github.com/facebook/docusaurus target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_bT41 colorModeToggle_UolE"><button class="clean-btn toggleButton_x9TT toggleButtonDisabled_Dj8q" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_nCQi lightToggleIcon_dnYY"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_nCQi darkToggleIcon_OBbf"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_nCQi systemToggleIcon_IWwm"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_dDCC><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_PEsc"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_P3nc thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_VrjY margin-bottom--md">All our posts</div><div role=group><h3 class=yearGroupHeading_lECJ>2025</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.8>Docusaurus 3.8</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.7>Docusaurus 3.7</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2024</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.6>Docusaurus 3.6</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.5>Docusaurus 3.5</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.4>Docusaurus 3.4</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.3>Docusaurus 3.3</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.2>Docusaurus 3.2</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.1>Docusaurus 3.1</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2023</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.0>Announcing Docusaurus 3.0</a><li class=sidebarItem_WJ0y><a aria-current=page class="sidebarItemLink_Qrfg sidebarItemLinkActive_nUeK" href=/blog/preparing-your-site-for-docusaurus-v3>Preparing your site for Docusaurus v3</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing>Upgrading frontend dependencies with confidence</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/2.4>Docusaurus 2.4</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/2.3>Docusaurus 2.3</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2022</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/2.2>Docusaurus 2.2</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2022/09/01/docusaurus-2.1>Docusaurus 2.1</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2022/08/01/announcing-docusaurus-2.0>Announcing Docusaurus 2.0</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2022/01/24/docusaurus-2021-recap>Docusaurus 2021 Recap</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2021</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/11/21/algolia-docsearch-migration>DocSearch migration</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/05/12/announcing-docusaurus-two-beta>Announcing Docusaurus 2 Beta</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/03/09/releasing-docusaurus-i18n>Releasing Docusaurus i18n</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/01/19/docusaurus-2020-recap>Docusaurus 2020 Recap</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2020</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2020/01/07/tribute-to-endi>Tribute to Endi</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2019</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2019/12/30/docusaurus-2019-recap>Docusaurus 2019 Recap</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2018</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2018/12/14/Happy-First-Birthday-Slash>Happy 1st Birthday Slash!</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2018/09/11/Towards-Docusaurus-2>Towards Docusaurus 2</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2018/04/30/How-I-Converted-Profilo-To-Docusaurus>How I Converted Profilo to Docusaurus in Under 2 Hours</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2017</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2017/12/14/introducing-docusaurus>Introducing Docusaurus</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_UBNu>Preparing your site for Docusaurus v3</h1><div class="container_x5Un margin-vert--md"><time datetime=2023-09-29T00:00:00.000Z>September 29, 2023</time> ¬∑ <!-- -->16 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_bvyx"><div class="avatar margin-bottom--sm"><a class=avatar__photo-link href=/blog/authors/slorber><img class="avatar__photo authorImage_p8ow" src=https://github.com/slorber.png alt="S√©bastien Lorber"></a><div class="avatar__intro authorDetails_dWdF"><div class=avatar__name><a href=/blog/authors/slorber><span class=authorName_Y8Hr>S√©bastien Lorber</span></a></div><small class=authorTitle_Slpj title="Docusaurus maintainer, This Week In React editor">Docusaurus maintainer, This Week In React editor</small><div class=authorSocials_tPnL><a href=https://bsky.app/profile/sebastienlorber.com target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=Bluesky><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em preserveAspectRatio=xMidYMid viewBox="0 0 256 226" class=authorSocialLink_hEWM><path fill=#1185FE d="M55.491 15.172c29.35 22.035 60.917 66.712 72.509 90.686 11.592-23.974 43.159-68.651 72.509-90.686C221.686-.727 256-13.028 256 26.116c0 7.818-4.482 65.674-7.111 75.068-9.138 32.654-42.436 40.983-72.057 35.942 51.775 8.812 64.946 38 36.501 67.187-54.021 55.433-77.644-13.908-83.696-31.676-1.11-3.257-1.63-4.78-1.637-3.485-.008-1.296-.527.228-1.637 3.485-6.052 17.768-29.675 87.11-83.696 31.676-28.445-29.187-15.274-58.375 36.5-67.187-29.62 5.041-62.918-3.288-72.056-35.942C4.482 91.79 0 33.934 0 26.116 0-13.028 34.314-.727 55.491 15.172Z"/></svg></a><a href=https://x.com/sebastienlorber target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=X><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em fill=none viewBox="0 0 1200 1227" style=--dark:#000;--light:#fff class="authorSocialLink_hEWM xSvg_Q0g7"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"/></svg></a><a href=https://www.linkedin.com/in/sebastienlorber/ target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=LinkedIn><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em preserveAspectRatio=xMidYMid viewBox="0 0 256 256" class=authorSocialLink_hEWM><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill=#0A66C2 /></svg></a><a href=https://github.com/slorber target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=GitHub><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em viewBox="0 0 256 250" preserveAspectRatio=xMidYMid style=--dark:#000;--light:#fff class="authorSocialLink_hEWM githubSvg_jqE4"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"/></svg></a><a href=https://www.instagram.com/thisweekinreact target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=Instagram><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em preserveAspectRatio=xMidYMid viewBox="0 0 256 256" style=--dark:#000;--light:#fff class="authorSocialLink_hEWM instagramSvg_Svcp"><path d="M128 23.064c34.177 0 38.225.13 51.722.745 12.48.57 19.258 2.655 23.769 4.408 5.974 2.322 10.238 5.096 14.717 9.575 4.48 4.479 7.253 8.743 9.575 14.717 1.753 4.511 3.838 11.289 4.408 23.768.615 13.498.745 17.546.745 51.723 0 34.178-.13 38.226-.745 51.723-.57 12.48-2.655 19.257-4.408 23.768-2.322 5.974-5.096 10.239-9.575 14.718-4.479 4.479-8.743 7.253-14.717 9.574-4.511 1.753-11.289 3.839-23.769 4.408-13.495.616-17.543.746-51.722.746-34.18 0-38.228-.13-51.723-.746-12.48-.57-19.257-2.655-23.768-4.408-5.974-2.321-10.239-5.095-14.718-9.574-4.479-4.48-7.253-8.744-9.574-14.718-1.753-4.51-3.839-11.288-4.408-23.768-.616-13.497-.746-17.545-.746-51.723 0-34.177.13-38.225.746-51.722.57-12.48 2.655-19.258 4.408-23.769 2.321-5.974 5.095-10.238 9.574-14.717 4.48-4.48 8.744-7.253 14.718-9.575 4.51-1.753 11.288-3.838 23.768-4.408 13.497-.615 17.545-.745 51.723-.745M128 0C93.237 0 88.878.147 75.226.77c-13.625.622-22.93 2.786-31.071 5.95-8.418 3.271-15.556 7.648-22.672 14.764C14.367 28.6 9.991 35.738 6.72 44.155 3.555 52.297 1.392 61.602.77 75.226.147 88.878 0 93.237 0 128c0 34.763.147 39.122.77 52.774.622 13.625 2.785 22.93 5.95 31.071 3.27 8.417 7.647 15.556 14.763 22.672 7.116 7.116 14.254 11.492 22.672 14.763 8.142 3.165 17.446 5.328 31.07 5.95 13.653.623 18.012.77 52.775.77s39.122-.147 52.774-.77c13.624-.622 22.929-2.785 31.07-5.95 8.418-3.27 15.556-7.647 22.672-14.763 7.116-7.116 11.493-14.254 14.764-22.672 3.164-8.142 5.328-17.446 5.95-31.07.623-13.653.77-18.012.77-52.775s-.147-39.122-.77-52.774c-.622-13.624-2.786-22.929-5.95-31.07-3.271-8.418-7.648-15.556-14.764-22.672C227.4 14.368 220.262 9.99 211.845 6.72c-8.142-3.164-17.447-5.328-31.071-5.95C167.122.147 162.763 0 128 0Zm0 62.27C91.698 62.27 62.27 91.7 62.27 128c0 36.302 29.428 65.73 65.73 65.73 36.301 0 65.73-29.428 65.73-65.73 0-36.301-29.429-65.73-65.73-65.73Zm0 108.397c-23.564 0-42.667-19.103-42.667-42.667S104.436 85.333 128 85.333s42.667 19.103 42.667 42.667-19.103 42.667-42.667 42.667Zm83.686-110.994c0 8.484-6.876 15.36-15.36 15.36-8.483 0-15.36-6.876-15.36-15.36 0-8.483 6.877-15.36 15.36-15.36 8.484 0 15.36 6.877 15.36 15.36Z"/></svg></a><a href=https://thisweekinreact.com target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=newsletter><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=authorSocialLink_hEWM><path stroke=none d="M0 0h24v24H0z" fill=none /><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"/><path d="M3.6 9h16.8"/><path d="M3.6 15h16.8"/><path d="M11.5 3a17 17 0 0 0 0 18"/><path d="M12.5 3a17 17 0 0 1 0 18"/></svg></a></div></div></div></div></div></header><div id=__blog-post-container class=markdown><div class="theme-admonition theme-admonition-warning admonition_o5H7 alert alert--warning"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Knsx><p>This blog post was written when Docusaurus v3 was in beta. There are some changes in dependency versions and upgrade steps you should be aware of if upgrading to Docusaurus v3 current stable releases. Use the <a href=https://docusaurus.io/docs/next/migration/v3 target=_blank rel="noopener noreferrer">upgrade guide</a> for the most up-to-date migration steps.</div></div>
<p><strong>Docusaurus v3</strong> is now <a href=https://github.com/facebook/docusaurus/discussions/9312 target=_blank rel="noopener noreferrer"><strong>in beta</strong></a> and the official release is around the corner. This is the perfect time to start <strong>preparing your site</strong> for this new major version.</p>
<p>Docusaurus v3 comes with a few <strong>breaking changes</strong>, many of which can be <strong>handled today under Docusaurus v2</strong>. Preparing your site ahead of time can be done incrementally, and will make it easier to upgrade to v3.</p>
<p>The main breaking change is the upgrade from MDX v1 to MDX v3. Read the <a href=https://mdxjs.com/blog/v2/ target=_blank rel="noopener noreferrer"><strong>MDX v2</strong></a> and <a href=https://mdxjs.com/blog/v3/ target=_blank rel="noopener noreferrer"><strong>MDX v3</strong></a> release notes for details. MDX will now compile your Markdown content <strong>more strictly</strong> and with <strong>subtle differences</strong>.</p>
<p>This article will mostly focus on how to prepare your content for this new MDX version, and will also list a few other breaking changes that you can handle today.</p>
<p><img decoding=async loading=lazy alt="Preparing your site for Docusaurus v3 - social card" src=/assets/images/social-card-1c688c53b51bdaa6e15ae532bf756276.png width=1040 height=546 class=img_vXGZ></p>
<div class="theme-admonition theme-admonition-warning admonition_o5H7 alert alert--warning"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Knsx><p>This article mentions most Docusaurus v3 breaking changes, but is not exhaustive. Read the <a href=https://github.com/facebook/docusaurus/discussions/9312 target=_blank rel="noopener noreferrer">v3.0.0-beta.0 release notes</a> for an exhaustive list.</div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Don't be afraid</div><div class=admonitionContent_Knsx><p>There's a lot of content in this blog post, but many Docusaurus v2 sites can upgrade with very few changes.<p>If your site is relatively small, with only a few customizations, you can probably <a href=#try-docusaurus-v3-today>upgrade to Docusaurus v3</a> immediately.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=preparatory-work>Preparatory work<a href=#preparatory-work class=hash-link aria-label="Direct link to Preparatory work" title="Direct link to Preparatory work">‚Äã</a></h2>
<p>Before preparing for the Docusaurus v3 upgrade, we recommend upgrading to the latest <a href=/versions>Docusaurus v2 version</a>.</p>
<p>Depending on the complexity of your site, it may be a good idea to adopt the <a href=/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing>visual regression testing workflow</a> that we recently presented. It could help you catch unexpected visual side effects occurring during the Docusaurus v3 upgrade.</p>
<p>We also recommend using the <code>.mdx</code> extension whenever you use JSX, <code>import</code>, or <code>export</code> (i.e. MDX features) inside a Markdown file. It is semantically more correct and improves compatibility with external tools (IDEs, formatters, linters, etc.). In future versions of Docusaurus, <code>.md</code> files will be parsed as standard <a href=https://commonmark.org/ target=_blank rel="noopener noreferrer">CommonMark</a>, which does not support these features. In Docusaurus v3, <code>.md</code> files keep being compiled as MDX files, but it will be possible to <a href=https://github.com/facebook/docusaurus/issues/3018 target=_blank rel="noopener noreferrer">opt-in for CommonMark</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=preparing-content-for-mdx-v3>Preparing content for MDX v3<a href=#preparing-content-for-mdx-v3 class=hash-link aria-label="Direct link to Preparing content for MDX v3" title="Direct link to Preparing content for MDX v3">‚Äã</a></h2>
<p>MDX is a major dependency of Docusaurus responsible for compiling your <code>.md</code> and <code>.mdx</code> files to React components.</p>
<p>MDX v3 is much better, but also comes with changes that probably require you to refactor your content a bit. MDX v3 is stricter, and some components that compiled fine under v1 might now fail to compile under v3, most likely because of <code>{</code> and <code>&lt;</code> characters.</p>
<p>Upgrading MDX comes with all the breaking changes documented on the <a href=https://mdxjs.com/blog/v2/ target=_blank rel="noopener noreferrer">MDX v2</a> and <a href=https://mdxjs.com/blog/v3/ target=_blank rel="noopener noreferrer">MDX v3</a> release blog posts. Most breaking changes come from MDX v2. The <a href=https://mdxjs.com/migrating/v2/ target=_blank rel="noopener noreferrer">MDX v2 migration guide</a> has a section on how to <a href=https://mdxjs.com/migrating/v2/#update-mdx-files target=_blank rel="noopener noreferrer">update MDX files</a> that will be particularly relevant to us. Also make sure to read the <a href=https://mdxjs.com/docs/troubleshooting-mdx/ target=_blank rel="noopener noreferrer">Troubleshooting MDX</a> page that can help you interpret common MDX error messages.</p>
<p>Make sure to also read our updated <a href=/docs/markdown-features/react><strong>MDX and React</strong></a> documentation page.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Ask for help</div><div class=admonitionContent_Knsx><p>We have a dedicated <a href=https://github.com/facebook/docusaurus/discussions/9053 target=_blank rel="noopener noreferrer">MDX v3 - Upgrade Support</a> discussion.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=using-the-mdx-playground>Using the MDX playground<a href=#using-the-mdx-playground class=hash-link aria-label="Direct link to Using the MDX playground" title="Direct link to Using the MDX playground">‚Äã</a></h3>
<p>The MDX playground is your new best friend. It permits to understand how your content is <strong>compiled to React components</strong>, and troubleshoot compilation or rendering issues in isolation.</p>
<p>Each MDX version comes with its own playground:</p>
<ul>
<li><a href=https://mdxjs.com/playground/ target=_blank rel="noopener noreferrer">MDX playground - current version</a></li>
<li><a href=https://mdx-git-renovate-babel-monorepo-mdx.vercel.app/playground/ target=_blank rel="noopener noreferrer">MDX playground - v1</a></li>
</ul>
<details class="details_Nokh alert alert--info details_Cn_P" data-collapsed=true><summary>Configuring the MDX playground options for Docusaurus</summary><div><div class=collapsibleContent_EoA1><p>To obtain a compilation behavior similar to what Docusaurus v2 uses, please turn on these options on the <a href=https://mdxjs.com/playground/ target=_blank rel="noopener noreferrer">MDX playground</a>:<ul>
<li>Use <code>MDX</code></li>
<li>Use <code>remark-gfm</code></li>
<li>Use <code>remark-directive</code></li>
</ul><p><img decoding=async loading=lazy alt="Screenshot of the MDX playground&amp;#39;s options panel, with only the &amp;quot;Use MDX&amp;quot;, &amp;quot;Use remark-gfm&amp;quot;, and &amp;quot;Use remark-directive&amp;quot; options checked" src=/assets/images/mdx2-playground-options-eab88e8328a6902759c4236ffc93d9c6.png width=1968 height=1316 class=img_vXGZ></div></div></details>
<p>Using the two MDX playgrounds side-by-side, you will soon notice that some content is compiled differently or fails to compile in v3.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>Making your content future-proof</div><div class=admonitionContent_Knsx><p>The goal will be to refactor your problematic content so that it <strong>works fine with both versions of MDX</strong>. This way, when you upgrade to Docusaurus v3, this content will already work out-of-the-box.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=using-the-mdx-checker-cli>Using the MDX checker CLI<a href=#using-the-mdx-checker-cli class=hash-link aria-label="Direct link to Using the MDX checker CLI" title="Direct link to Using the MDX checker CLI">‚Äã</a></h3>
<p>We provide a <a href=https://github.com/slorber/docusaurus-mdx-checker target=_blank rel="noopener noreferrer">docusaurus-mdx-checker</a> CLI that permits to easily spot problematic content. Run this command today on your Docusaurus v2 site to obtain a list of files that will fail to compile under MDX v3.</p>
<div class="language-bash codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-bash codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">npx docusaurus-mdx-checker</span><br></span></code></pre></div></div>
<p>For each compilation issue, the CLI will log the file path and a line number to look at.</p>
<p><img decoding=async loading=lazy alt="Screenshot of the terminal showing an example MDX checker CLI output, with a few error messages" src=/assets/images/mdx-checker-output-0f96cc19fd3ed4d55901ca90ad657c14.png width=1161 height=417 class=img_vXGZ></p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_Knsx><p>Use this CLI to estimate of how much work will be required to make your content compatible with MDX v3.</div></div>
<div class="theme-admonition theme-admonition-warning admonition_o5H7 alert alert--warning"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Knsx><p>This CLI is a best effort, and will only report compilation errors.<p>It will not report subtle compilation changes that do not produce errors but can affect how your content is displayed. To catch these problems, we recommend using <a href=/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing>visual regression tests</a>.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=common-mdx-problems>Common MDX problems<a href=#common-mdx-problems class=hash-link aria-label="Direct link to Common MDX problems" title="Direct link to Common MDX problems">‚Äã</a></h3>
<p>We upgraded a few Docusaurus sites to Docusaurus v3 and MDX v3:</p>
<ul>
<li><a href=https://github.com/facebook/docusaurus/pull/8288 target=_blank rel="noopener noreferrer">Docusaurus PR</a></li>
<li><a href=https://github.com/facebook/react-native-website/pull/3780 target=_blank rel="noopener noreferrer">React-Native PR</a></li>
<li><a href=https://github.com/jestjs/jest/pull/14463 target=_blank rel="noopener noreferrer">Jest PR</a></li>
</ul>
<p>These upgrades permitted us to aggregate the most common content problems, and document how to best handle them.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=bad-usage-of->Bad usage of <code>{</code><a href=#bad-usage-of- class=hash-link aria-label="Direct link to bad-usage-of-" title="Direct link to bad-usage-of-">‚Äã</a></h4>
<p>The <code>{</code> character is used for opening <a href=https://mdxjs.com/docs/what-is-mdx/#expressions target=_blank rel="noopener noreferrer">JavaScript expressions</a>. MDX will now fail if what you put inside <code>{expression}</code> is not a valid expression.</p>
<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">The object shape looks like {username: string, age: number}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Error message</div><div class=admonitionContent_Knsx><blockquote>
<p>Could not parse expression with acorn: Unexpected content after expression</p>
</blockquote></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Available options to fix this error:<ul>
<li>Use inline code: <code>{username: string, age: number}</code></li>
<li>Use the HTML code: <code>&amp;#123;</code></li>
<li>Escape it: <code>\{</code></li>
</ul></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=bad-usage-of--1>Bad usage of <code>&lt;</code><a href=#bad-usage-of--1 class=hash-link aria-label="Direct link to bad-usage-of--1" title="Direct link to bad-usage-of--1">‚Äã</a></h4>
<p>The <code>&lt;</code> character is used for opening <a href=https://mdxjs.com/docs/what-is-mdx/#jsx target=_blank rel="noopener noreferrer">JSX tags</a>. MDX will now fail if it thinks your JSX is invalid.</p>
<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">Use Android version &lt;5</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">You can use a generic type like Array</span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>T</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Follow the template "Road to </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>YOUR_MINOR_VERSION</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">"</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Error messages</div><div class=admonitionContent_Knsx><blockquote>
<p>Unexpected character <code>5</code> (U+0035) before name, expected a character that can start a name, such as a letter, <code>$</code>, or <code>_</code></p>
</blockquote><blockquote>
<p>Expected a closing tag for <code>&lt;T></code> (1:6-1:9) before the end of <code>paragraph</code> end-tag-mismatch mdast-util-mdx-jsx</p>
</blockquote><blockquote>
<p>Expected a closing tag for <code>&lt;YOUR_MINOR_VERSION></code> (134:19-134:39) before the end of <code>paragraph</code></p>
</blockquote></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Available options to fix this error:<ul>
<li>Use inline code: <code>Array&lt;T></code></li>
<li>Use the HTML code: <code>&amp;lt;</code> or <code>&amp;#60;</code></li>
<li>Escape it: <code>\&lt;</code> (unfortunately the <code>\</code> will be displayed under MDX v1)</li>
</ul></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=bad-usage-of-gfm-autolink>Bad usage of GFM Autolink<a href=#bad-usage-of-gfm-autolink class=hash-link aria-label="Direct link to Bad usage of GFM Autolink" title="Direct link to Bad usage of GFM Autolink">‚Äã</a></h4>
<p>Docusaurus supports <a href=https://github.github.com/gfm/ target=_blank rel="noopener noreferrer">GitHub Flavored Markdown (GFM)</a>, but <a href=https://github.github.com/gfm/#autolinks target=_blank rel="noopener noreferrer">autolink</a> using the <code>&lt;link></code> syntax is not supported anymore by MDX.</p>
<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>sebastien@thisweekinreact.com</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">&lt;http://localhost:3000></span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Error messages</div><div class=admonitionContent_Knsx><blockquote>
<p>Unexpected character <code>@</code> (U+0040) in name, expected a name character such as letters, digits, <code>$</code>, or <code>_</code>; whitespace before attributes; or the end of the tag (note: to create a link in MDX, use <code>[text](url)</code>)</p>
</blockquote><blockquote>
<p>Unexpected character <code>/</code> (U+002F) before local name, expected a character that can start a name, such as a letter, <code>$</code>, or <code>_</code> (note: to create a link in MDX, use <code>[text](url)</code>)</p>
</blockquote></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Use regular Markdown links, or remove the <code>&lt;</code> and <code>></code>. MDX and GFM are able to autolink literals already.<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">sebastien@thisweekinreact.com</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token url" style=color:#36acaa>[</span><span class="token url content" style=color:#36acaa>sebastien@thisweekinreact.com</span><span class="token url" style=color:#36acaa>](</span><span class="token url" style=color:#36acaa>mailto:sebastien@thisweekinreact.com</span><span class="token url" style=color:#36acaa>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">http://localhost:3000</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token url" style=color:#36acaa>[</span><span class="token url content" style=color:#36acaa>http://localhost:3000</span><span class="token url" style=color:#36acaa>](</span><span class="token url" style=color:#36acaa>http://localhost:3000</span><span class="token url" style=color:#36acaa>)</span><br></span></code></pre></div></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=lower-case-mdxcomponent-mapping>Lower-case MDXComponent mapping<a href=#lower-case-mdxcomponent-mapping class=hash-link aria-label="Direct link to Lower-case MDXComponent mapping" title="Direct link to Lower-case MDXComponent mapping">‚Äã</a></h4>
<p>For users providing a <a href=/docs/markdown-features/react#mdx-component-scope>custom <code>MDXComponent</code>mapping</a>, components are now "sandboxed":</p>
<ul>
<li>a <code>MDXComponent</code> mapping for <code>h1</code> only gets used for <code># hi</code> but not for <code>&lt;h1>hi&lt;/h1></code></li>
<li>a <strong>lower-cased</strong> custom element name will not be substituted by its respective <code>MDXComponent</code> component anymore</li>
</ul>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>visual difference</div><div class=admonitionContent_Knsx><p>Your <a href=/docs/markdown-features/react#mdx-component-scope><code>MDXComponent</code> component mapping</a> might not be applied as before, and your custom components might no longer be used.</div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>For native Markdown elements, you can keep using <strong>lower-case</strong>: <code>p</code>, <code>h1</code>, <code>img</code>, <code>a</code>...<p>For any other element, <strong>use upper-case names</strong>.<div class="language-diff codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>src/theme/MDXComponents.js</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">import MDXComponents from '@theme-original/MDXComponents';</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">export default {</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  ...MDXComponents,</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  p: (props) => &lt;p {...props} className="my-paragraph"/></span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>  myElement: (props) => &lt;div {...props} className="my-class" />,</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>  MyElement: (props) => &lt;div {...props} className="my-class" />,</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">};</span><br></span></code></pre></div></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=unintended-extra-paragraphs>Unintended extra paragraphs<a href=#unintended-extra-paragraphs class=hash-link aria-label="Direct link to Unintended extra paragraphs" title="Direct link to Unintended extra paragraphs">‚Äã</a></h4>
<p>In MDX, it is now possible to interleave JSX and Markdown more easily without requiring extra line breaks. Writing content on multiple lines can also produce new expected <code>&lt;p></code> tags.</p>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>visual difference</div><div class=admonitionContent_Knsx><p>See how this content is rendered differently by MDX v1 and v3.<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Some </span><span class="token bold punctuation" style=color:#393A34>**</span><span class="token bold content">Markdown</span><span class="token bold punctuation" style=color:#393A34>**</span><span class="token plain"> content</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Some </span><span class="token bold punctuation" style=color:#393A34>**</span><span class="token bold content">Markdown</span><span class="token bold punctuation" style=color:#393A34>**</span><span class="token plain"> content</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div><div class="language-html codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>MDX v1 output</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-html codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Some **Markdown** content</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Some **Markdown** content</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div><div class="language-html codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>MDX v3 output</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-html codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Some </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>strong</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Markdown</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>strong</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"> content</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Some </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#22863A>strong</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Markdown</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>strong</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"> content</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>p</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#22863A>div</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>If you don't want an extra <code>&lt;p></code> tag, refactor content on a case by case basis to use a single-line JSX tag.<div class="language-diff codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">&lt;figure></span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  &lt;img src="/img/myImage.png" alt="My alt" /></span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>  &lt;figcaption></span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    My image caption</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>  &lt;/figcaption></span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>  &lt;figcaption>My image caption&lt;/figcaption></span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">&lt;/figure></span><br></span></code></pre></div></div><p>If your content contains "Markdown inlines" (<code>**</code>, <code>*</code>, <code>_</code>, <code>[link](/path)</code>), you might not be able to refactor it ahead of time, and will have to do it alongside the Docusaurus v3 upgrade.</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=unintended-usage-of-directives>Unintended usage of directives<a href=#unintended-usage-of-directives class=hash-link aria-label="Direct link to Unintended usage of directives" title="Direct link to Unintended usage of directives">‚Äã</a></h4>
<p>Docusaurus v3 now uses <a href=https://talk.commonmark.org/t/generic-directives-plugins-syntax/444 target=_blank rel="noopener noreferrer">Markdown Directives</a> (implemented with <a href=https://github.com/remarkjs/remark-directive target=_blank rel="noopener noreferrer">remark-directive</a>) as a generic way to provide support for admonitions, and other upcoming Docusaurus features.</p>
<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">This is a :textDirective</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">::leafDirective</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">:::containerDirective</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Container directive content</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">:::</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Visual change</div><div class=admonitionContent_Knsx><p>Directives are parsed with the purpose of being handled by other Remark plugins. Unhandled directives will be ignored, and won't be rendered back in their original form.<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">The AWS re:Invent conf is great</span><br></span></code></pre></div></div><p>Due to <code>:Invent</code> being parsed as a text directive, this will now be rendered as:<div class="language-text codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-text codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">The AWS re</span><br></span><span class=token-line style=color:#393A34><span class="token plain">conf is great</span><br></span></code></pre></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><ul>
<li>Use the HTML code: <code>&amp;#58;</code></li>
<li>Add a space after <code>:</code> (if it makes sense): <code>: text</code></li>
<li>Escape it: <code>\:</code> (unfortunately the <code>\</code> will be displayed under MDX v1)</li>
</ul></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=unsupported-indented-code-blocks>Unsupported indented code blocks<a href=#unsupported-indented-code-blocks class=hash-link aria-label="Direct link to Unsupported indented code blocks" title="Direct link to Unsupported indented code blocks">‚Äã</a></h4>
<p>MDX does not transform indented text as code blocks anymore.</p>
<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">    console.log("hello");</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Visual change</div><div class=admonitionContent_Knsx><p>The upgrade does not generally produce new MDX compilation errors, but can lead to content being rendered in an unexpected way because there isn't a code block anymore.</div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Use the regular code block syntax instead of indentation:<div class="language-md codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>example.md</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-md codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token code punctuation" style=color:#393A34>```</span><span class="token code code-language">js</span><span class="token code"></span><br></span><span class=token-line style=color:#393A34><span class="token code"></span><span class="token code code-block language-js">console.log('hello');</span><span class="token code"></span><br></span><span class=token-line style=color:#393A34><span class="token code"></span><span class="token code punctuation" style=color:#393A34>```</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=mdx-plugins>MDX plugins<a href=#mdx-plugins class=hash-link aria-label="Direct link to MDX plugins" title="Direct link to MDX plugins">‚Äã</a></h3>
<p>All the official packages (Unified, Remark, Rehype...) in the MDX ecosystem are now <a href=https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c target=_blank rel="noopener noreferrer"><strong>ES Modules only</strong></a> and do not support <a href=https://nodejs.org/api/modules.html#modules-commonjs-modules target=_blank rel="noopener noreferrer">CommonJS</a> anymore.</p>
<p>In practice this means that you can't do <code>require("remark-plugin")</code> anymore.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Docusaurus v3 now supports <a href=https://flaviocopes.com/es-modules/ target=_blank rel="noopener noreferrer"><strong>ES Modules</strong></a> configuration files. We recommend that you migrate your config file to ES module, that enables you to import the Remark plugins easily:<div class="language-js codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>docusaurus.config.js</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-js codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token keyword module" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token imports">remarkPlugin</span><span class="token plain"> </span><span class="token keyword module" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'remark-plugin'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword module" style=color:#CF222E>export</span><span class="token plain"> </span><span class="token keyword module" style=color:#CF222E>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token literal-property property" style=color:#005CC5>title</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'Docusaurus'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* site config using remark plugins here */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div><p>If you want to keep using CommonJS modules, you can use dynamic imports as a workaround that enables you to import ES modules inside a CommonJS module. Fortunately, the <a href=/docs/configuration#syntax-to-declare-docusaurus-config>Docusaurus config supports the usage of an async function</a> to let you do so.<div class="language-js codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>docusaurus.config.js</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-js codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token plain">module</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method-variable function-variable method function property-access" style=color:#8250DF>exports</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>async</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> myPlugin </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword control-flow" style=color:#CF222E>await</span><span class="token plain"> </span><span class="token keyword module" style=color:#CF222E>import</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#C6105F>'remark-plugin'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token keyword module" style=color:#CF222E>default</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword control-flow" style=color:#CF222E>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#6B6B6B;font-style:italic>// site config...</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_o5H7 alert alert--info"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>For plugin authors</div><div class=admonitionContent_Knsx><p>If you created custom Remark or Rehype plugins, you may need to refactor those, or eventually rewrite them completely, due to how the new AST is structured. We have created a <a href=https://github.com/facebook/docusaurus/discussions/9337 target=_blank rel="noopener noreferrer">dedicated support discussion</a> to help plugin authors upgrade their code.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=other-breaking-changes>Other breaking changes<a href=#other-breaking-changes class=hash-link aria-label="Direct link to Other breaking changes" title="Direct link to Other breaking changes">‚Äã</a></h2>
<p>Apart from MDX, there are other breaking changes that you can already prepare your site for, notably major version upgrades of important dependencies.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=nodejs-180>Node.js 18.0<a href=#nodejs-180 class=hash-link aria-label="Direct link to Node.js 18.0" title="Direct link to Node.js 18.0">‚Äã</a></h3>
<p>Node.js 16 <a href=https://nodejs.org/en/blog/announcements/nodejs16-eol target=_blank rel="noopener noreferrer">reached End-of-Life</a>, and Docusaurus v3 now requires <strong>Node.js >= 18.0</strong>.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Upgrade your Docusaurus v2 site to Node.js 18 before upgrading to Docusaurus v3.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=react-180>React 18.0<a href=#react-180 class=hash-link aria-label="Direct link to React 18.0" title="Direct link to React 18.0">‚Äã</a></h3>
<p>Docusaurus v3 now requires <strong>React >= 18.0</strong>.</p>
<p>React 18 comes with its own breaking changes that should be relatively easy to handle, depending on the amount of custom React code you created for your site.</p>
<p>Simple Docusaurus sites that only use our official theme code without swizzling do not have anything to do.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Read the official <a href=https://react.dev/blog/2022/03/29/react-v18 target=_blank rel="noopener noreferrer">React v18.0</a> and <a href=https://react.dev/blog/2022/03/08/react-18-upgrade-guide target=_blank rel="noopener noreferrer">How to Upgrade to React 18</a>, and look at your first-party React code to figure out which components might be affected this React 18 upgrade.<p>We recommend to particularly look for:<ul>
<li>Automatic batching for stateful components</li>
<li>New React hydration errors reported to the console</li>
</ul></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=typescript-50>TypeScript 5.0<a href=#typescript-50 class=hash-link aria-label="Direct link to TypeScript 5.0" title="Direct link to TypeScript 5.0">‚Äã</a></h3>
<p>Docusaurus v3 now requires <strong>TypeScript >= 5.0</strong>.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Upgrade your Docusaurus v2 site to TypeScript 5 before upgrading to Docusaurus v3.</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=typescript-base-config>TypeScript base config<a href=#typescript-base-config class=hash-link aria-label="Direct link to TypeScript base config" title="Direct link to TypeScript base config">‚Äã</a></h3>
<p>The official Docusaurus TypeScript config has been re-internalized from the external package <a href=https://www.npmjs.com/package/@tsconfig/docusaurus target=_blank rel="noopener noreferrer"><code>@tsconfig/docusaurus</code></a> to our new monorepo package <a href=https://www.npmjs.com/package/@docusaurus/tsconfig target=_blank rel="noopener noreferrer"><code>@docusaurus/tsconfig</code></a>.</p>
<p>This new package is versioned alongside all the other Docusaurus core packages, and will be used to ensure TypeScript retro-compatibility and breaking changes on major version upgrades.</p>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>The new Docusaurus v3 TypeScript config is sensibly the same as the former Docusaurus v2 TypeScript config. If you upgraded to TypeScript 5, using the Docusaurus v3 config on a v2 site is already possible:<div class="language-diff codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>package.json</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">{</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  "devDependencies": {</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "@tsconfig/docusaurus": "^1.0.7",</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "@docusaurus/tsconfig": "^3.0.0-beta.0",</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  }</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">}</span><br></span></code></pre></div></div><div class="language-diff codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>tsconfig.json</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">{</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>  "extends": "@tsconfig/docusaurus/tsconfig.json",</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>  "extends": "@docusaurus/tsconfig",</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  "compilerOptions": {</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    "baseUrl": "."</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  }</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">}</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=admonition-warning>Admonition warning<a href=#admonition-warning class=hash-link aria-label="Direct link to Admonition warning" title="Direct link to Admonition warning">‚Äã</a></h3>
<p>For historical reasons, we support an undocumented admonition <code>:::warning</code> that renders with a red color.</p>
<div class="theme-admonition theme-admonition-danger admonition_o5H7 alert alert--danger"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"/></svg></span>Warning</div><div class=admonitionContent_Knsx><p>This is a Docusaurus v2 <code>:::warning</code> admonition.</div></div>
<p>However, the color and icon is historically wrong. Docusaurus v3 re-introduces <code>:::warning</code> admonition officially, documents it, and fix the color and icon.</p>
<div class="theme-admonition theme-admonition-warning admonition_o5H7 alert alert--warning"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_Knsx><p>This is a Docusaurus v3 <code>:::warning</code> admonition.</div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>If you previously used the undocumented <code>:::warning</code> admonition, make sure to verify for each usage if yellow is now an appropriate color. If you want to keep the red color, use <code>:::danger</code> instead.<p>Docusaurus v3 also <a href=https://github.com/facebook/docusaurus/pull/9308 target=_blank rel="noopener noreferrer">deprecated the <code>:::caution</code></a> admonition. Please refactor <code>:::caution</code> (yellow) to either <code>:::warning</code> (yellow) or <code>:::danger</code> (red).</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=versioned-sidebars>Versioned sidebars<a href=#versioned-sidebars class=hash-link aria-label="Direct link to Versioned sidebars" title="Direct link to Versioned sidebars">‚Äã</a></h3>
<p>This breaking change will only affect <strong>Docusaurus v2 early adopters</strong> who versioned their docs before <code>v2.0.0-beta.10</code> (December 2021).</p>
<p>When creating version <code>v1.0.0</code>, the sidebar file contained a prefix <code>version-v1.0.0/</code> that <a href=https://github.com/facebook/docusaurus/pull/9310 target=_blank rel="noopener noreferrer">Docusaurus v3 does not support anymore</a>.</p>
<div class="language-json codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>versioned_sidebars/version-v1.0.0-sidebars.json</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-json codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#005CC5>"version-v1.0.0/docs"</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#C6105F>"version-v1.0.0/introduction"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#C6105F>"version-v1.0.0/prerequisites"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>How to prepare</div><div class=admonitionContent_Knsx><p>Your Docusaurus v2 site is able to handle the 2 sidebar formats similarly.<p>You can remove the useless versioned prefix from your versioned sidebars.<div class="language-json codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>versioned_sidebars/version-v1.0.0-sidebars.json</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-json codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#005CC5>"docs"</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#C6105F>"introduction"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>"prerequisites"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=try-docusaurus-v3-today>Try Docusaurus v3 today<a href=#try-docusaurus-v3-today class=hash-link aria-label="Direct link to Try Docusaurus v3 today" title="Direct link to Try Docusaurus v3 today">‚Äã</a></h2>
<p>Docusaurus v3 is now <a href=https://github.com/facebook/docusaurus/discussions/9312 target=_blank rel="noopener noreferrer">in beta</a>, and already used in production by <a href=https://reactnative.dev target=_blank rel="noopener noreferrer">React-Native</a>, <a href=https://jestjs.io target=_blank rel="noopener noreferrer">Jest</a>, and <a href=https://docusaurus.io/ target=_blank rel="noopener noreferrer">our own website</a>.</p>
<p>We think this new Docusaurus version is <strong>robust and ready to be deployed in production</strong>. It should be released officially soon, after receiving a positive feedback from early adopters of our community.</p>
<p>We would really appreciate it if you try upgrading and report issues on the <a href=https://github.com/facebook/docusaurus/discussions/9312 target=_blank rel="noopener noreferrer">3.0.0-beta.0 release discussion thread</a>.</p>
<p>For most sites, the upgrade should be easy. If you prepared your site ahead of time as documented here, upgrading the following dependencies should be enough:</p>
<div class="language-diff codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_U6Q0>package.json</div><div class=codeBlockContent_cKMj><pre tabindex=0 class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">{</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  "dependencies": {</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "@docusaurus/core": "2.4.3",</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "@docusaurus/preset-classic": "2.4.3",</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "@mdx-js/react": "^1.6.22",</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "@docusaurus/core": "3.0.0-beta.0",</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "@docusaurus/preset-classic": "3.0.0-beta.0",</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "@mdx-js/react": "^3.0.0",</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    "clsx": "^2.0.0",</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    "prism-react-renderer": "^1.3.5",</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "react": "^17.0.2",</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "react-dom": "^17.0.2"</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "react": "^18.2.0",</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "react-dom": "^18.2.0"</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  },</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  "devDependencies": {</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#d73a49>-</span><span class="token deleted-sign deleted line" style=color:#d73a49>    "@docusaurus/module-type-aliases": "2.4.3"</span><br></span><span class=token-line style=color:#393A34><span class="token deleted-sign deleted line" style=color:#d73a49></span><span class="token inserted-sign inserted prefix inserted" style=color:#36acaa>+</span><span class="token inserted-sign inserted line" style=color:#36acaa>    "@docusaurus/module-type-aliases": "3.0.0-beta.0"</span><br></span><span class=token-line style=color:#393A34><span class="token inserted-sign inserted line" style=color:#36acaa></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  }</span><br></span><span class=token-line style=color:#393A34><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=ask-for-help>Ask for help<a href=#ask-for-help class=hash-link aria-label="Direct link to Ask for help" title="Direct link to Ask for help">‚Äã</a></h2>
<p>We will be there to help you upgrade through the following support channels:</p>
<ul>
<li><a href=https://github.com/facebook/docusaurus/discussions/9336 target=_blank rel="noopener noreferrer">Docusaurus v3 - Upgrade Support</a></li>
<li><a href=https://discord.com/channels/398180168688074762/1154771869094912090 target=_blank rel="noopener noreferrer">Docusaurus v3 - Discord channel #migration-v2-to-v3</a></li>
<li><a href=https://github.com/facebook/docusaurus/discussions/9053 target=_blank rel="noopener noreferrer">MDX v3 - Upgrade Support</a></li>
<li><a href=https://github.com/facebook/docusaurus/discussions/9337 target=_blank rel="noopener noreferrer">MDX v3 - Remark/Rehype Plugins Support</a></li>
<li><a href=https://discord.com/channels/398180168688074762/1116724556976111616 target=_blank rel="noopener noreferrer">MDX v3 - Discord channel #migration-mdx-v3</a></li>
</ul>
<p>Alternatively, you can look for a paid <a href=https://github.com/facebook/docusaurus/discussions/9281 target=_blank rel="noopener noreferrer">Docusaurus Service Provider</a> to execute this upgrade for you. If your site is open source, you can also ask our community for <a href=https://github.com/facebook/docusaurus/discussions/9283 target=_blank rel="noopener noreferrer">free, benevolent help</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=conclusion>Conclusion<a href=#conclusion class=hash-link aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>Docusaurus v3 is ready to try, and will be released soon. This article already gives you a good idea of all the major changes required to upgrade.</p>
<p>The initial 3.0 release is focusing on dependency and infrastructure upgrades that will permit us to implement new exciting features. It also comes with a few useful features that we will detail in the final release notes.</div><footer class=docusaurus-mt-lg><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><b>Tags:</b><ul class="tags_rTaS padding--none margin-left--sm"><li class=tag_l5va><a rel=tag class="tag_Nd8t tagRegular_TiLs" href=/blog/tags/maintenance>Maintenance</a></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><a href=https://github.com/facebook/docusaurus/edit/main/website/blog/2023/09-29-preparing-your-site-for-docusaurus-v3/index.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_IMw_ aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_OHCJ"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-07-10T19:03:33.000Z itemprop=dateModified>Jul 10, 2025</time></b> by <b>Jiaqi Liu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/releases/3.0><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>Announcing Docusaurus 3.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>Upgrading frontend dependencies with confidence</div></a></nav></main><div class="col col--2"><div class="tableOfContents_RLlU thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#preparatory-work class="table-of-contents__link toc-highlight">Preparatory work</a><li><a href=#preparing-content-for-mdx-v3 class="table-of-contents__link toc-highlight">Preparing content for MDX v3</a><ul><li><a href=#using-the-mdx-playground class="table-of-contents__link toc-highlight">Using the MDX playground</a><li><a href=#using-the-mdx-checker-cli class="table-of-contents__link toc-highlight">Using the MDX checker CLI</a><li><a href=#common-mdx-problems class="table-of-contents__link toc-highlight">Common MDX problems</a><li><a href=#mdx-plugins class="table-of-contents__link toc-highlight">MDX plugins</a></ul><li><a href=#other-breaking-changes class="table-of-contents__link toc-highlight">Other breaking changes</a><ul><li><a href=#nodejs-180 class="table-of-contents__link toc-highlight">Node.js 18.0</a><li><a href=#react-180 class="table-of-contents__link toc-highlight">React 18.0</a><li><a href=#typescript-50 class="table-of-contents__link toc-highlight">TypeScript 5.0</a><li><a href=#typescript-base-config class="table-of-contents__link toc-highlight">TypeScript base config</a><li><a href=#admonition-warning class="table-of-contents__link toc-highlight">Admonition warning</a><li><a href=#versioned-sidebars class="table-of-contents__link toc-highlight">Versioned sidebars</a></ul><li><a href=#try-docusaurus-v3-today class="table-of-contents__link toc-highlight">Try Docusaurus v3 today</a><li><a href=#ask-for-help class="table-of-contents__link toc-highlight">Ask for help</a><li><a href=#conclusion class="table-of-contents__link toc-highlight">Conclusion</a></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Learn</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs>Introduction</a><li class=footer__item><a class=footer__link-item href=/docs/installation>Installation</a><li class=footer__item><a class=footer__link-item href=/docs/migration>Migration from v1 to v2</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://stackoverflow.com/questions/tagged/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>Stack Overflow<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/feature-requests>Feature Requests</a><li class=footer__item><a href=https://discordapp.com/invite/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/community/support>Help</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/blog>Blog</a><li class=footer__item><a class=footer__link-item href=/changelog>Changelog</a><li class=footer__item><a href=https://github.com/facebook/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=footer__item>
                <a href=https://www.netlify.com target=_blank rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  <img src=/img/footer/badge-netlify.svg alt="Deploys by Netlify" width=114 height=51>
                </a>
              <li class=footer__item>
                <a href=https://argos-ci.com target=_blank rel="noreferrer noopener" aria-label="Covered by Argos">
                  <img src=/img/footer/badge-argos.svg alt="Covered by Argos" width=133 height=20>
                </a>
              </ul></div><div class="theme-layout-footer-column col footer__col footer-column-legal"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://opensource.facebook.com/legal/privacy/ target=_blank rel="noopener noreferrer" class="footer__link-item footer-item-privacy">Privacy<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opensource.facebook.com/legal/terms/ target=_blank rel="noopener noreferrer" class=footer__link-item>Terms<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opensource.facebook.com/legal/cookie-policy/ target=_blank rel="noopener noreferrer" class=footer__link-item>Cookie Policy<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_Rdzz><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><a href=https://opensource.fb.com rel="noopener noreferrer" class=footerLogoLink_CiM_><img src=/img/meta_opensource_logo_negative.svg alt="Meta Open Source Logo" class="footer__logo themedComponent_bJGS themedComponent--light_LEkC"><img src=/img/meta_opensource_logo_negative.svg alt="Meta Open Source Logo" class="footer__logo themedComponent_bJGS themedComponent--dark_jnGk"></a></div><div class=footer__copyright>Copyright ¬© 2025 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>