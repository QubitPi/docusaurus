<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.5.2"><title data-rh=true>Upgrading frontend dependencies with confidence | Docusaurus</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=pt_BR><meta data-rh=true property=og:locale:alternate content=ko><meta data-rh=true property=og:locale:alternate content=zh_CN><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Upgrading frontend dependencies with confidence | Docusaurus"><meta data-rh=true name=description content="Upgrade npm dependencies with confidence thanks to a visual regression testing workflow using GitHub Actions, Playwright and Argos."><meta data-rh=true property=og:description content="Upgrade npm dependencies with confidence thanks to a visual regression testing workflow using GitHub Actions, Playwright and Argos."><meta data-rh=true property=og:image content=https://docusaurus.qubitpi.org/assets/images/social-card-0662a6f419d0032829f99915ccf8918b.png><meta data-rh=true name=twitter:image content=https://docusaurus.qubitpi.org/assets/images/social-card-0662a6f419d0032829f99915ccf8918b.png><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2023-09-22T00:00:00.000Z><meta data-rh=true property=article:author content=https://thisweekinreact.com><meta data-rh=true property=article:tag content=Release><link data-rh=true rel=icon href=/img/docusaurus.ico><link data-rh=true rel=canonical href=https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing hreflang=en><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/fr/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing hreflang=fr><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/pt-BR/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing hreflang=pt-BR><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/ko/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing hreflang=ko><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/zh-CN/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing hreflang=zh-CN><link data-rh=true rel=alternate href=https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing hreflang=x-default><link data-rh=true rel=preconnect href=https://X1Z85QJPUV-dsn.algolia.net crossorigin><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing","@type":"BlogPosting","author":{"@type":"Person","description":"Docusaurus maintainer, This Week In React editor","image":"https://github.com/slorber.png","name":"S√©bastien Lorber","url":"https://thisweekinreact.com"},"dateModified":"2024-10-21T05:55:22.000Z","datePublished":"2023-09-22T00:00:00.000Z","description":"Upgrade npm dependencies with confidence thanks to a visual regression testing workflow using GitHub Actions, Playwright and Argos.","headline":"Upgrading frontend dependencies with confidence","image":{"@id":"https://docusaurus.qubitpi.org/assets/images/social-card-0662a6f419d0032829f99915ccf8918b.png","@type":"ImageObject","caption":"title image for the blog post: Upgrading frontend dependencies with confidence","contentUrl":"https://docusaurus.qubitpi.org/assets/images/social-card-0662a6f419d0032829f99915ccf8918b.png","url":"https://docusaurus.qubitpi.org/assets/images/social-card-0662a6f419d0032829f99915ccf8918b.png"},"isPartOf":{"@id":"https://docusaurus.qubitpi.org/blog","@type":"Blog","name":"Docusaurus blog"},"keywords":[],"mainEntityOfPage":"https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing","name":"Upgrading frontend dependencies with confidence","url":"https://docusaurus.qubitpi.org/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Docusaurus RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Docusaurus Atom Feed"><link rel=alternate type=application/json href=/blog/feed.json title="Docusaurus JSON Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-E5CR2Q1NRE"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E5CR2Q1NRE",{})</script><link rel=search type=application/opensearchdescription+xml title=Docusaurus href=/opensearch.xml><link rel=alternate type=application/rss+xml href=/changelog/rss.xml title="Docusaurus changelog RSS Feed"><link rel=alternate type=application/atom+xml href=/changelog/atom.xml title="Docusaurus changelog Atom Feed"><link rel=alternate type=application/json href=/changelog/feed.json title="Docusaurus changelog JSON Feed"><link rel=icon href=/img/docusaurus.png><link rel=manifest href=/manifest.json><meta name=theme-color content="rgb(37, 194, 160)"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#000><link rel=apple-touch-icon href=/img/docusaurus.png><link rel=mask-icon href=/img/docusaurus.png color="rgb(62, 204, 94)"><meta name=msapplication-TileImage content=/img/docusaurus.png><meta name=msapplication-TileColor content=#000><link rel=alternate type=application/rss+xml href=/tests/blog/rss.xml title="Docusaurus Tests Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/tests/blog/atom.xml title="Docusaurus Tests Blog Atom Feed"><link rel=alternate type=application/json href=/tests/blog/feed.json title="Docusaurus Tests Blog JSON Feed"><link rel=stylesheet href=/katex/katex.min.css><link rel=stylesheet href=/assets/css/styles.35a16909.css><script src=/assets/js/main.1f038b97.js defer></script><script src=/assets/js/runtime~main.e579e949.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme-13c")}catch(t){}}();t=null!==e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":(window.matchMedia("(prefers-color-scheme: light)").matches,"light"),document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss-13c")}catch(t){}return!1}())</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_UHvc href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class=announcementBar_cTOO role=banner><div class=announcementBarPlaceholder_Lqfg></div><div class="content_ttnW announcementBarContent_PjqA">üéâÔ∏è <b><a target=_blank href=https://docusaurus.io/blog/releases/3.5>Docusaurus v3.5</a> is out!</b> ü•≥Ô∏è</div><button type=button aria-label=Close class="clean-btn close closeButton_nmpN announcementBarClose_UFLi"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_uAgx"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/docusaurus.svg alt="" class="themedComponent_bJGS themedComponent--light_LEkC" height=32 width=32><img src=/img/docusaurus_keytar.svg alt="" class="themedComponent_bJGS themedComponent--dark_jnGk" height=32 width=32></div><b class="navbar__title text--truncate">Docusaurus</b></a><a class="navbar__item navbar__link" href=/docs>Docs</a><a class="navbar__item navbar__link" href=/docs/cli>API</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/showcase>Showcase</a><a class="navbar__item navbar__link" href=/community/support>Community</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs>Canary üöß</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs>Canary üöß</a><li><hr class=dropdown-separator><li class=dropdown-archived-versions><b>Archived versions</b><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.3.1 target=_blank rel="noopener noreferrer" class=dropdown__link>2.3.1<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.2.0 target=_blank rel="noopener noreferrer" class=dropdown__link>2.2.0<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.1.0 target=_blank rel="noopener noreferrer" class=dropdown__link>2.1.0<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://docusaurus-archive-october-2023.netlify.app/docs/2.0.1 target=_blank rel="noopener noreferrer" class=dropdown__link>2.0.1<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><a href=https://v1.docusaurus.io target=_blank rel="noopener noreferrer" class=dropdown__link>1.x.x<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li><hr class=dropdown-separator><li><a class=dropdown__link href=/versions>All versions</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_tqOs><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/fr/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing rel="noopener noreferrer" class=dropdown__link lang=fr>Fran√ßais</a><li><a href=/pt-BR/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing rel="noopener noreferrer" class=dropdown__link lang=pt-BR>Portugu√™s (Brasil)</a><li><a href=/ko/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing rel="noopener noreferrer" class=dropdown__link lang=ko>ÌïúÍµ≠Ïñ¥</a><li><a href=/zh-CN/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing rel="noopener noreferrer" class=dropdown__link lang=zh-CN>‰∏≠ÊñáÔºà‰∏≠ÂõΩÔºâ</a><li><hr style="margin: 0.3rem 0;"><li><a href=https://github.com/facebook/docusaurus/issues/3526 target=_blank rel="noopener noreferrer" class=dropdown__link>Help Us Translate<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><a href=https://github.com/facebook/docusaurus target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_bT41 colorModeToggle_UolE"><button class="clean-btn toggleButton_x9TT toggleButtonDisabled_Dj8q" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_dnYY><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_OBbf><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_dDCC><button type=button class="DocSearch DocSearch-Button" aria-label=Search><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_PEsc"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_P3nc thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_VrjY margin-bottom--md">All our posts</div><div role=group><h3 class=yearGroupHeading_lECJ>2024</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.5>Docusaurus 3.5</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.4>Docusaurus 3.4</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.3>Docusaurus 3.3</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.2>Docusaurus 3.2</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.1>Docusaurus 3.1</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2023</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/3.0>Announcing Docusaurus 3.0</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/preparing-your-site-for-docusaurus-v3>Preparing your site for Docusaurus v3</a><li class=sidebarItem_WJ0y><a aria-current=page class="sidebarItemLink_Qrfg sidebarItemLinkActive_nUeK" href=/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing>Upgrading frontend dependencies with confidence</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/2.4>Docusaurus 2.4</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/2.3>Docusaurus 2.3</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2022</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/releases/2.2>Docusaurus 2.2</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2022/09/01/docusaurus-2.1>Docusaurus 2.1</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2022/08/01/announcing-docusaurus-2.0>Announcing Docusaurus 2.0</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2022/01/24/docusaurus-2021-recap>Docusaurus 2021 Recap</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2021</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/11/21/algolia-docsearch-migration>DocSearch migration</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/05/12/announcing-docusaurus-two-beta>Announcing Docusaurus 2 Beta</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/03/09/releasing-docusaurus-i18n>Releasing Docusaurus i18n</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2021/01/19/docusaurus-2020-recap>Docusaurus 2020 Recap</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2020</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2020/01/07/tribute-to-endi>Tribute to Endi</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2019</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2019/12/30/docusaurus-2019-recap>Docusaurus 2019 Recap</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2018</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2018/12/14/Happy-First-Birthday-Slash>Happy 1st Birthday Slash!</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2018/09/11/Towards-Docusaurus-2>Towards Docusaurus 2</a><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2018/04/30/How-I-Converted-Profilo-To-Docusaurus>How I Converted Profilo to Docusaurus in Under 2 Hours</a></ul></div><div role=group><h3 class=yearGroupHeading_lECJ>2017</h3><ul class="sidebarItemList_OSkG clean-list"><li class=sidebarItem_WJ0y><a class=sidebarItemLink_Qrfg href=/blog/2017/12/14/introducing-docusaurus>Introducing Docusaurus</a></ul></div></nav></aside><main class="col col--7"><article><header><h1 class=title_UBNu>Upgrading frontend dependencies with confidence</h1><div class="container_x5Un margin-vert--md"><time datetime=2023-09-22T00:00:00.000Z>September 22, 2023</time> ¬∑ <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_bvyx"><div class="avatar margin-bottom--sm"><a class=avatar__photo-link href=/blog/authors/slorber><img class="avatar__photo authorImage_p8ow" src=https://github.com/slorber.png alt="S√©bastien Lorber"></a><div class="avatar__intro authorDetails_dWdF"><div class=avatar__name><a href=/blog/authors/slorber><span class=authorName_Y8Hr>S√©bastien Lorber</span></a></div><small class=authorTitle_Slpj title="Docusaurus maintainer, This Week In React editor">Docusaurus maintainer, This Week In React editor</small><div class=authorSocials_tPnL><a href=https://x.com/sebastienlorber target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=X><svg width=1em height=1em fill=none viewBox="0 0 1200 1227" class="authorSocialLink_hEWM xSvg_Q0g7" style=--dark:#000;--light:#fff><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"/></svg></a><a href=https://www.linkedin.com/in/sebastienlorber/ target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=LinkedIn><svg width=1em height=1em preserveAspectRatio=xMidYMid viewBox="0 0 256 256" class=authorSocialLink_hEWM><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill=#0A66C2 /></svg></a><a href=https://github.com/slorber target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=GitHub><svg viewBox="0 0 256 250" width=1em height=1em class="authorSocialLink_hEWM githubSvg_jqE4" style=--dark:#000;--light:#fff preserveAspectRatio=xMidYMid><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"/></svg></a><a href=https://thisweekinreact.com target=_blank rel="noopener noreferrer" class=authorSocialLink_hEWM title=newsletter><svg width=1em height=1em viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=authorSocialLink_hEWM><path stroke=none d="M0 0h24v24H0z" fill=none /><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"/><path d="M3.6 9h16.8"/><path d="M3.6 15h16.8"/><path d="M11.5 3a17 17 0 0 0 0 18"/><path d="M12.5 3a17 17 0 0 1 0 18"/></svg></a></div></div></div></div></div></header><div id=__blog-post-container class=markdown><p>Frontend developers often need to <strong>upgrade npm dependencies</strong>, but those upgrades can feel scary and lead to <strong>subtle UI side effects</strong> not caught by your regular test suite.</p>
<p>Upgrading Docusaurus is a good example: without reviewing all the pages one by one, it's hard to be sure there's no visual regression. <strong>Docusaurus v3 is around the corner</strong> (currently in <a href=https://github.com/facebook/docusaurus/discussions/9312 target=_blank rel="noopener noreferrer">beta</a>), and we would like to help you do this upgrade with confidence.</p>
<p>This article introduces a <strong>visual regression testing</strong> workflow based on <a href=https://github.com/features/actions target=_blank rel="noopener noreferrer"><strong>GitHub Actions</strong></a>, <a href=https://playwright.dev/ target=_blank rel="noopener noreferrer"><strong>Playwright</strong></a>, and <a href=https://argos-ci.com/ target=_blank rel="noopener noreferrer"><strong>Argos</strong></a>. It is not directly coupled to Docusaurus or React, and can be adapted to work with other frontend applications and frameworks.</p>
<p><img decoding=async loading=lazy alt="Upgrading frontend dependencies with confidence - social card" src=/assets/images/social-card-0662a6f419d0032829f99915ccf8918b.png width=1500 height=785 class=img_vXGZ></p>
<p>This workflow has been tested while upgrading Docusaurus v2 to v3, and already helped catch a few visual regressions on sites such as <a href=https://reactnative.dev/ target=_blank rel="noopener noreferrer">React Native</a>, <a href=https://jestjs.io/ target=_blank rel="noopener noreferrer">Jest</a>, and the <a href=https://docusaurus.io/ target=_blank rel="noopener noreferrer">Docusaurus</a> site itself.</p>
<p>Docusaurus v3 comes with infrastructure changes and major dependency upgrades such as <a href=https://mdxjs.com/blog/v3/ target=_blank rel="noopener noreferrer">MDX v3</a> and <a href=https://react.dev/blog/2022/03/29/react-v18 target=_blank rel="noopener noreferrer">React 18</a>, which can produce unexpected side effects. It would have been difficult to notice all the visual regressions without such a workflow. That's why we encourage site owners to consider adopting visual regression testing, especially for highly customized sites.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=workflow-overview>Workflow overview<a href=#workflow-overview class=hash-link aria-label="Direct link to Workflow overview" title="Direct link to Workflow overview">‚Äã</a></h2>
<p>The general idea is pretty simple:</p>
<ul>
<li>Build your site in CI with <a href=https://github.com/features/actions target=_blank rel="noopener noreferrer">GitHub Actions</a></li>
<li>Take screenshots of all <code>sitemap.xml</code> pages with <a href=https://playwright.dev/ target=_blank rel="noopener noreferrer">Playwright</a></li>
<li>Upload them to <a href=https://argos-ci.com/ target=_blank rel="noopener noreferrer">Argos</a></li>
<li>Do this for both Git branches <code>main</code> and <code>pr-branch</code></li>
<li>Compare the screenshots side-by-side in <a href=https://argos-ci.com/ target=_blank rel="noopener noreferrer">Argos</a></li>
</ul>
<p>Argos will then <strong>report visual differences</strong> found between <code>main</code> and <code>pr-branch</code> as a GitHub commit status and pull-request comment. This can help you detect visual regressions ahead of time in an automated way.</p>
<p><img decoding=async loading=lazy alt="Argos GitHub commit status" src=/assets/images/argos-github-status-05e8264c59fa4f8a21292f59665edf3d.png width=978 height=375 class=img_vXGZ></p>
<p><img decoding=async loading=lazy alt="Argos GitHub PR comment" src=/assets/images/argos-github-comment-8b62a1561b13881608d5c9f8a8f833a5.png width=982 height=303 class=img_vXGZ></p>
<p>Argos creates a report referencing all the visual differences found while comparing the 2 Git branches sites side-by-side, and provides a convenient UX to easily spot the difference.</p>
<p>Check the <a href=https://app.argos-ci.com/meta-open-source/docusaurus target=_blank rel="noopener noreferrer">Docusaurus Argos page</a> to explore our own website reports.</p>
<p>Here is a more concrete example of Argos <a href=https://app.argos-ci.com/slorber/rnw-visual-tests/builds/32/56012838 target=_blank rel="noopener noreferrer">reporting a visual regression</a> found while upgrading the React-Native website:</p>
<p><a href=https://app.argos-ci.com/slorber/rnw-visual-tests/builds/32/56012838 target=_blank rel="noopener noreferrer"><img decoding=async loading=lazy alt="Argos GitHub PR comment" src=/assets/images/argos-react-native-regression-216ace77baedfaf873a770112ec817ac.png width=1959 height=979 class=img_vXGZ></a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=workflow-implementation>Workflow implementation<a href=#workflow-implementation class=hash-link aria-label="Direct link to Workflow implementation" title="Direct link to Workflow implementation">‚Äã</a></h2>
<p>This section will describe the implementation details of each step of the workflow.</p>
<p>You will need to <a href=https://app.argos-ci.com/signup target=_blank rel="noopener noreferrer">sign up to Argos</a> and <a href=https://argos-ci.com/docs/github target=_blank rel="noopener noreferrer">connect Argos to your GitHub repository</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=dependencies>Dependencies<a href=#dependencies class=hash-link aria-label="Direct link to Dependencies" title="Direct link to Dependencies">‚Äã</a></h3>
<p>This workflow requires the following dev dependencies, in addition to the usual Docusaurus ones:</p>
<div class="language-bash codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-bash codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token function" style=color:#8250DF>yarn</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>add</span><span class="token plain"> </span><span class="token parameter variable" style=color:#E36209>-D</span><span class="token plain"> @argos-ci/cli @argos-ci/playwright @playwright/test cheerio</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=github-action>GitHub Action<a href=#github-action class=hash-link aria-label="Direct link to GitHub Action" title="Direct link to GitHub Action">‚Äã</a></h3>
<p>The GitHub action is responsible for executing the workflow for each Git branch.</p>
<p>A minimal workflow could look like:</p>
<div class="language-yaml codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>.github/workflows/argos.yml</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-yaml codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Argos CI Screenshots</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#22863A>on</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>push</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>branches</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">main</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>pull_request</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>branches</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">main</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#22863A>jobs</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>take-screenshots</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>runs-on</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">latest</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>steps</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Check out repository code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>uses</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Use Node.js</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>uses</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">node@v3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>with</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token key atrule" style=color:#22863A>node-version</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> current</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Install dependencies</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>run</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> yarn install </span><span class="token punctuation" style=color:#393A34>-</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">frozen</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">lockfile</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Install Playwright browsers</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>run</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> yarn playwright install </span><span class="token punctuation" style=color:#393A34>-</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">with</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">deps chromium</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Build the website</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>run</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> yarn docusaurus build</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Take screenshots with Playwright</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>run</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> yarn playwright test</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Upload screenshots to Argos</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#22863A>run</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> yarn argos upload ./screenshots</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=playwright-config>Playwright config<a href=#playwright-config class=hash-link aria-label="Direct link to Playwright config" title="Direct link to Playwright config">‚Äã</a></h3>
<p>Playwright is responsible for taking screenshots of the website previously built locally by the GitHub action.</p>
<p>A minimal <a href=https://playwright.dev/docs/test-configuration target=_blank rel="noopener noreferrer">Playwright config</a> could look like:</p>
<div class="language-ts codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>playwright.config.ts</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-ts codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">devices</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'@playwright/test'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">PlaywrightTestConfig</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'@playwright/test'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> config</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> PlaywrightTestConfig </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  webServer</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    port</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token number" style=color:#005CC5>3000</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    command</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'yarn docusaurus serve'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  projects</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      name</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'chromium'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      use</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token operator" style=color:#D73A49>...</span><span class="token plain">devices</span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#C6105F>'Desktop Chrome'</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>export</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>default</span><span class="token plain"> config</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=playwright-test>Playwright test<a href=#playwright-test class=hash-link aria-label="Direct link to Playwright test" title="Direct link to Playwright test">‚Äã</a></h3>
<p>A Playwright config is not enough: we also need to write a Playwright test file to generate the site screenshots.</p>
<div class="language-ts codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>screenshot.spec.ts</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-ts codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>*</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>as</span><span class="token plain"> fs </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'fs'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">test</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'@playwright/test'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">argosScreenshot</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'@argos-ci/playwright'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">extractSitemapPathnames</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> pathnameToArgosName</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'./utils'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// Constants</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> siteUrl </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'http://localhost:3000'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> sitemapPath </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'./build/sitemap.xml'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> stylesheetPath </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'./screenshot.css'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> stylesheet </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> fs</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>readFileSync</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">stylesheetPath</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>toString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// Wait for hydration, requires Docusaurus v2.4.3+</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// Docusaurus adds a &lt;html data-has-hydrated="true"> once hydrated</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// See https://github.com/facebook/docusaurus/pull/9256</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>waitForDocusaurusHydration</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>return</span><span class="token plain"> document</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">documentElement</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">dataset</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">hasHydrated </span><span class="token operator" style=color:#D73A49>===</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'true'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>screenshotPathname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">pathname</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#8250DF>test</span><span class="token punctuation" style=color:#393A34>(</span><span class="token template-string template-punctuation string" style=color:#C6105F>`</span><span class="token template-string string" style=color:#C6105F>pathname </span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#393A34>${</span><span class="token template-string interpolation">pathname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style=color:#393A34>}</span><span class="token template-string template-punctuation string" style=color:#C6105F>`</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>async</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">page</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> url </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> siteUrl </span><span class="token operator" style=color:#D73A49>+</span><span class="token plain"> pathname</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#CF222E>await</span><span class="token plain"> page</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>goto</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">url</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#CF222E>await</span><span class="token plain"> page</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>waitForFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">waitForDocusaurusHydration</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#CF222E>await</span><span class="token plain"> page</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>addStyleTag</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">content</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> stylesheet</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#CF222E>await</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>argosScreenshot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">page</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>pathnameToArgosName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">pathname</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">test</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>describe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#C6105F>'Docusaurus site screenshots'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> pathnames </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>extractSitemapPathnames</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sitemapPath</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#C6105F>'Pathnames to screenshot:'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> pathnames</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  pathnames</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>forEach</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">screenshotPathname</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<details class="details_Nokh alert alert--info details_Cn_P" data-collapsed=true><summary>Why do we take screenshots with Argos instead of Playwright?</summary><div><div class=collapsibleContent_EoA1><p>Argos has a <a href=https://argos-ci.com/docs/playwright target=_blank rel="noopener noreferrer">Playwright integration</a> that wraps the original Playwright screenshot API and provides better defaults to make screenshots more deterministic.</div></div></details>
<details class="details_Nokh alert alert--info details_Cn_P" data-collapsed=true><summary>What's inside <code>utils.ts</code>?</summary><div><div class=collapsibleContent_EoA1><p>This module contains implementation details that we choose to hide for clarity.<div class="language-ts codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-ts codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>*</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>as</span><span class="token plain"> cheerio </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'cheerio'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>import</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>*</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>as</span><span class="token plain"> fs </span><span class="token keyword" style=color:#CF222E>from</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'fs'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// Extract a list of pathnames, given a fs path to a sitemap.xml file</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// Docusaurus generates a build/sitemap.xml file for you!</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>export</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>extractSitemapPathnames</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sitemapPath</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> sitemap </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> fs</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>readFileSync</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sitemapPath</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>toString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> $ </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> cheerio</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>load</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sitemap</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">xmlMode</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token boolean" style=color:#005CC5>true</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> urls</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#8250DF>$</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#C6105F>'loc'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>each</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>handleLoc</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    urls</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>push</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#8250DF>$</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#CF222E>this</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>text</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>return</span><span class="token plain"> urls</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>map</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">url</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>=></span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>new</span><span class="token plain"> </span><span class="token class-name constant" style=color:#005CC5>URL</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">url</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">pathname</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>// Converts a pathname to a decent screenshot name</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#CF222E>export</span><span class="token plain"> </span><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>pathnameToArgosName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">pathname</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>return</span><span class="token plain"> pathname</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>replace</span><span class="token punctuation" style=color:#393A34>(</span><span class="token regex regex-delimiter" style=color:#36acaa>/</span><span class="token regex regex-source language-regex anchor function" style=color:#8250DF>^</span><span class="token regex regex-source language-regex escape" style=color:#36acaa>\/</span><span class="token regex regex-source language-regex alternation keyword" style=color:#CF222E>|</span><span class="token regex regex-source language-regex escape" style=color:#36acaa>\/</span><span class="token regex regex-source language-regex anchor function" style=color:#8250DF>$</span><span class="token regex regex-delimiter" style=color:#36acaa>/</span><span class="token regex regex-flags" style=color:#36acaa>g</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>''</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>||</span><span class="token plain"> </span><span class="token string" style=color:#C6105F>'index'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></details>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=stylesheet>Stylesheet<a href=#stylesheet class=hash-link aria-label="Direct link to Stylesheet" title="Direct link to Stylesheet">‚Äã</a></h3>
<p>Screenshots are not always deterministic, and taking a screenshot of a page twice can lead to subtle variations that will be reported by Argos as <strong>false positive</strong> visual regressions.</p>
<p>For this reason, we recommend injecting an extra stylesheet to hide the problematic elements. You will probably need to add new CSS rules to this base stylesheet, according to flaky elements found on your own site. Read <a href=https://argos-ci.com/docs/about-flaky target=_blank rel="noopener noreferrer">Argos - About flaky tests docs</a> for details.</p>
<div class="language-css codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>screenshot.css</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-css codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token comment" style=color:#6B6B6B;font-style:italic>/* Iframes can load lazily */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">iframe</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* Avatars can be flaky due to using external sources: GitHub/Unavatar */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">.avatar__photo</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* Gifs load lazily and are animated */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">img[src$=</span><span class="token string" style=color:#C6105F>'.gif'</span><span class="token plain">]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* Algolia keyboard shortcuts appear with a little delay */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">.DocSearch-Button-Keys > kbd</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* The live playground preview can often display dates/counters */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token selector attribute punctuation" style=color:#393A34>[</span><span class="token selector attribute attr-name" style=color:#0550AE>class</span><span class="token selector attribute operator" style=color:#D73A49>*=</span><span class="token selector attribute attr-value" style=color:#C6105F>'playgroundPreview'</span><span class="token selector attribute punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#005CC5>visibility</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> hidden</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* Different docs last-update dates can alter layout */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">.theme-last-updated</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#6B6B6B;font-style:italic>/* Mermaid diagrams are rendered client-side and produce layout shifts */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token selector class" style=color:#6F42C1>.docusaurus-mermaid-container</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#005CC5>display</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> none</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>prevent layout shifts</div><div class=admonitionContent_Knsx><p>We recommend hiding flaky UI elements affecting layout with <code>display: none;</code>.<p>For example, the docs "Last Updated on" might render on more than 1 line, eventually "pushing" the rest of your content further down, leading to Argos detecting many different pixels.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=example-repository>Example repository<a href=#example-repository class=hash-link aria-label="Direct link to Example repository" title="Direct link to Example repository">‚Äã</a></h2>
<p>The <a href=https://github.com/slorber/docusaurus-argos-example target=_blank rel="noopener noreferrer">slorber/docusaurus-argos-example</a> repo shows a complete example of implementing this workflow on a newly initialized Docusaurus v2 site, using a Yarn monorepo.</p>
<p><a href=https://github.com/slorber/docusaurus-argos-example target=_blank rel="noopener noreferrer"><img decoding=async loading=lazy alt="Docusaurus + Argos monorepo example screenshot" src=/assets/images/docusaurus-argos-example-repo-screenshot-a56583e16aa02c7fa96c592f1339928f.png width=767 height=427 class=img_vXGZ></a></p>
<p>Relevant pull-requests:</p>
<ul>
<li><a href=https://github.com/slorber/docusaurus-argos-example/pull/1 target=_blank rel="noopener noreferrer">PR - Set up GitHub Action + Playwright + Argos</a>: implements the minimal workflow described above</li>
<li><a href=https://github.com/slorber/docusaurus-argos-example/pull/2 target=_blank rel="noopener noreferrer">PR - Upgrading Docusaurus from v2 to v3</a>: shows how Argos caught 3 visual regressions while upgrading</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_o5H7 alert alert--success"><div class=admonitionHeading_FzoX><span class=admonitionIcon_rXq6><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>More advanced example?</div><div class=admonitionContent_Knsx><p>Browse the Docusaurus repository for a more advanced integration:<ul>
<li><a href=https://github.com/facebook/docusaurus/blob/main/.github/workflows/argos.yml target=_blank rel="noopener noreferrer">GitHub Action</a></li>
<li><a href=https://github.com/facebook/docusaurus/tree/main/argos target=_blank rel="noopener noreferrer">Playwright + Argos tests</a></li>
</ul></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=make-it-cheap>Make it cheap<a href=#make-it-cheap class=hash-link aria-label="Direct link to Make it cheap" title="Direct link to Make it cheap">‚Äã</a></h2>
<p>The tools we choose are implementation details of this visual regression testing workflow.</p>
<p>For Docusaurus, we choose <a href=https://argos-ci.com/ target=_blank rel="noopener noreferrer">Argos</a>: it works well for us, and offers <a href=https://argos-ci.com/pricing target=_blank rel="noopener noreferrer">free</a> and <a href=https://argos-ci.com/docs/open-source target=_blank rel="noopener noreferrer">open source</a> plans. However, you are free to adopt alternative tools.</p>
<p>In case you don't mind storing large screenshots in Git, you can also try the free, self-hosted <a href=https://playwright.dev/docs/test-snapshots target=_blank rel="noopener noreferrer">Playwright Visual Comparisons</a> and browse visual differences with <code>npx playwright show-report</code>. However, we found using a dedicated external tool is more convenient.</p>
<p>External tools can be expensive, but generally offer free plans with an ample quota of screenshots. You can reduce your screenshot consumption by implementing a few tricks below.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=limit-the-number-of-pathnames>Limit the number of pathnames<a href=#limit-the-number-of-pathnames class=hash-link aria-label="Direct link to Limit the number of pathnames" title="Direct link to Limit the number of pathnames">‚Äã</a></h3>
<p>The base setup involves taking a screenshot of every single pathname found in <code>sitemap.xml</code>. For large sites, that can lead to a lot of screenshots.</p>
<p>You can decide to filter the pathnames to only take screenshots of the most critical pages.</p>
<p>For the Docusaurus website, do not take screenshots for versioned docs pages:</p>
<div class="language-ts codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>screenshot.spec.ts</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-ts codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token keyword" style=color:#CF222E>function</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>isVersionedDocsPathname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">pathname</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#D73A49>:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>return</span><span class="token plain"> pathname</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>match</span><span class="token punctuation" style=color:#393A34>(</span><span class="token regex regex-delimiter" style=color:#36acaa>/</span><span class="token regex regex-source language-regex anchor function" style=color:#8250DF>^</span><span class="token regex regex-source language-regex escape" style=color:#36acaa>\/</span><span class="token regex regex-source language-regex" style=color:#36acaa>docs</span><span class="token regex regex-source language-regex escape" style=color:#36acaa>\/</span><span class="token regex regex-source language-regex group punctuation" style=color:#393A34>(</span><span class="token regex regex-source language-regex group punctuation" style=color:#393A34>(</span><span class="token regex regex-source language-regex char-set class-name" style=color:#116329>\d</span><span class="token regex regex-source language-regex special-escape escape" style=color:#36acaa>\.</span><span class="token regex regex-source language-regex char-set class-name" style=color:#116329>\d</span><span class="token regex regex-source language-regex special-escape escape" style=color:#36acaa>\.</span><span class="token regex regex-source language-regex char-set class-name" style=color:#116329>\d</span><span class="token regex regex-source language-regex group punctuation" style=color:#393A34>)</span><span class="token regex regex-source language-regex alternation keyword" style=color:#CF222E>|</span><span class="token regex regex-source language-regex group punctuation" style=color:#393A34>(</span><span class="token regex regex-source language-regex" style=color:#36acaa>next</span><span class="token regex regex-source language-regex group punctuation" style=color:#393A34>)</span><span class="token regex regex-source language-regex group punctuation" style=color:#393A34>)</span><span class="token regex regex-source language-regex escape" style=color:#36acaa>\/</span><span class="token regex regex-delimiter" style=color:#36acaa>/</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">test</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>describe</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#C6105F>'Docusaurus site screenshots'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#D73A49>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#CF222E>const</span><span class="token plain"> pathnames </span><span class="token operator" style=color:#D73A49>=</span><span class="token plain"> </span><span class="token function" style=color:#8250DF>extractSitemapPathnames</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sitemapPath</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>filter</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">isVersionedDocsPathname</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  pathnames</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#8250DF>forEach</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">screenshotPathname</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=limit-the-workflow-concurrency>Limit the workflow concurrency<a href=#limit-the-workflow-concurrency class=hash-link aria-label="Direct link to Limit the workflow concurrency" title="Direct link to Limit the workflow concurrency">‚Äã</a></h3>
<p>Implementing <a href=https://docs.github.com/en/actions/using-jobs/using-concurrency target=_blank rel="noopener noreferrer">GitHub Actions concurrency groups</a> will prevent successive commits to trigger multiple useless workflow runs. The workflow will only be executed for the last commit, and previous commits will be canceled automatically.</p>
<div class="language-yaml codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>.github/workflows/argos.yml</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-yaml codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#22863A>concurrency</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>group</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> $</span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> github.workflow </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">$</span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> github.head_ref </span><span class="token punctuation" style=color:#393A34>|</span><span class="token punctuation" style=color:#393A34>|</span><span class="token plain"> github.run_id </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>cancel-in-progress</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#005CC5>true</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=run-your-workflow-conditionally>Run your workflow conditionally<a href=#run-your-workflow-conditionally class=hash-link aria-label="Direct link to Run your workflow conditionally" title="Direct link to Run your workflow conditionally">‚Äã</a></h3>
<p>It's not worth running this workflow for every single commit and pull-request.</p>
<p>For example, if someone corrects a typo in your documentation, you probably don't want to take hundreds of screenshots and have Argos to point out that only the modified page has a visual difference: duh, that's a bit expected!</p>
<p>For the Docusaurus website, we only run the workflow for pull-request having the <code>Argos</code> label:</p>
<div class="language-yaml codeBlockContainer_jDV4 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_bdru>.github/workflows/argos.yml</div><div class=codeBlockContent_vx7S><pre tabindex=0 class="prism-code language-yaml codeBlock_Gebt thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_FJaf><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#22863A>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Argos CI Screenshots</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#22863A>on</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>push</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>branches</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">main</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>pull_request</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>branches</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">main</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>types</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> opened</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> synchronize</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> reopened</span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> labeled</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#22863A>jobs</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#22863A>take-screenshots</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>if</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> $</span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> github.ref_name == 'main' </span><span class="token punctuation" style=color:#393A34>|</span><span class="token punctuation" style=color:#393A34>|</span><span class="token plain"> (github.event_name == 'pull_request' </span><span class="token important">&&</span><span class="token plain"> contains(github.event.pull_request.labels.</span><span class="token important">*.name</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> 'Argos')) </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>runs-on</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">latest</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#22863A>steps</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token comment" style=color:#6B6B6B;font-style:italic># Your job steps here ...</span><br></span></code></pre><div class=buttonGroup_cUGO><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_OqsO aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_PgCn><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_bsQG><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>There are many options to explore, such as <a href=https://docs.github.com/en/actions/using-workflows/manually-running-a-workflow target=_blank rel="noopener noreferrer">triggering the workflow manually</a> or <a href=https://docs.github.com/en/actions/using-workflows/triggering-a-workflow#example-including-paths target=_blank rel="noopener noreferrer">only when files matching a specific pattern are modified</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=conclusion>Conclusion<a href=#conclusion class=hash-link aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>I believe <strong>visual regression testing is underused</strong> in the frontend ecosystem.</p>
<p>Taking full-page screenshots is a <strong>low-hanging fruit</strong> that is easy to set up and can help you <strong>catch a new class of bugs</strong> that your regular test suite would miss. This technique shines not only for npm package upgrades, but also for <strong>any kind of refactoring</strong> that shouldn't change the user interface.</p>
<p>So why not give it a try?</p>
<p>Happy hacking!</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id=see-also>See also<a href=#see-also class=hash-link aria-label="Direct link to See also" title="Direct link to See also">‚Äã</a></h2>
<p>Useful documentation links:</p>
<ul>
<li><a href=https://playwright.dev/docs/intro target=_blank rel="noopener noreferrer">Playwright - Installation</a></li>
<li><a href=https://playwright.dev/docs/test-configuration target=_blank rel="noopener noreferrer">Playwright - Test config guide</a></li>
<li><a href=https://playwright.dev/docs/api/class-testconfig target=_blank rel="noopener noreferrer">Playwright - Test config API</a></li>
<li><a href=https://argos-ci.com/docs/installation target=_blank rel="noopener noreferrer">Argos - Installation</a></li>
<li><a href=https://argos-ci.com/docs/github-actions target=_blank rel="noopener noreferrer">Argos - Use with GitHub Actions</a></li>
<li><a href=https://argos-ci.com/docs/playwright target=_blank rel="noopener noreferrer">Argos - Use with Playwright</a></li>
<li><a href=https://argos-ci.com/docs/about-flaky target=_blank rel="noopener noreferrer">Argos - About flaky tests</a></li>
</ul></div><footer class=docusaurus-mt-lg><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><b>Tags:</b><ul class="tags_rTaS padding--none margin-left--sm"><li class=tag_l5va><a title="Blog posts about Docusaurus' new releases" class="tag_Nd8t tagRegular_TiLs" href=/blog/tags/release>Release</a></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><a href=https://github.com/facebook/docusaurus/edit/main/website/blog/2023/09-22-upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing/index.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_IMw_ aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_OHCJ"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2024-10-21T05:55:22.000Z itemprop=dateModified>Oct 21, 2024</time></b> by <b>Jiaqi Liu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/preparing-your-site-for-docusaurus-v3><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>Preparing your site for Docusaurus v3</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/releases/2.4><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>Docusaurus 2.4</div></a></nav></main><div class="col col--2"><div class="tableOfContents_RLlU thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#workflow-overview class="table-of-contents__link toc-highlight">Workflow overview</a><li><a href=#workflow-implementation class="table-of-contents__link toc-highlight">Workflow implementation</a><ul><li><a href=#dependencies class="table-of-contents__link toc-highlight">Dependencies</a><li><a href=#github-action class="table-of-contents__link toc-highlight">GitHub Action</a><li><a href=#playwright-config class="table-of-contents__link toc-highlight">Playwright config</a><li><a href=#playwright-test class="table-of-contents__link toc-highlight">Playwright test</a><li><a href=#stylesheet class="table-of-contents__link toc-highlight">Stylesheet</a></ul><li><a href=#example-repository class="table-of-contents__link toc-highlight">Example repository</a><li><a href=#make-it-cheap class="table-of-contents__link toc-highlight">Make it cheap</a><ul><li><a href=#limit-the-number-of-pathnames class="table-of-contents__link toc-highlight">Limit the number of pathnames</a><li><a href=#limit-the-workflow-concurrency class="table-of-contents__link toc-highlight">Limit the workflow concurrency</a><li><a href=#run-your-workflow-conditionally class="table-of-contents__link toc-highlight">Run your workflow conditionally</a></ul><li><a href=#conclusion class="table-of-contents__link toc-highlight">Conclusion</a><li><a href=#see-also class="table-of-contents__link toc-highlight">See also</a></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Learn</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs>Introduction</a><li class=footer__item><a class=footer__link-item href=/docs/installation>Installation</a><li class=footer__item><a class=footer__link-item href=/docs/migration>Migration from v1 to v2</a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://stackoverflow.com/questions/tagged/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>Stack Overflow<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a class=footer__link-item href=/feature-requests>Feature Requests</a><li class=footer__item><a href=https://discordapp.com/invite/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a class=footer__link-item href=/community/support>Help</a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/blog>Blog</a><li class=footer__item><a class=footer__link-item href=/changelog>Changelog</a><li class=footer__item><a href=https://github.com/facebook/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://x.com/docusaurus target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item>
                <a href=https://www.netlify.com target=_blank rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  <img src=https://www.netlify.com/img/global/badges/netlify-color-accent.svg alt="Deploys by Netlify" width=114 height=51>
                </a>
              <li class=footer__item>
                <a href=https://argos-ci.com target=_blank rel="noreferrer noopener" aria-label="Covered by Argos">
                  <img src=https://argos-ci.com/badge.svg alt="Covered by Argos" width=133 height=20>
                </a>
              </ul></div><div class="col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://opensource.facebook.com/legal/privacy/ target=_blank rel="noopener noreferrer" class=footer__link-item>Privacy<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://opensource.facebook.com/legal/terms/ target=_blank rel="noopener noreferrer" class=footer__link-item>Terms<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://opensource.facebook.com/legal/cookie-policy/ target=_blank rel="noopener noreferrer" class=footer__link-item>Cookie Policy<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_Rdzz><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><a href=https://opensource.fb.com rel="noopener noreferrer" class=footerLogoLink_CiM_><img src=/img/meta_opensource_logo_negative.svg alt="Meta Open Source Logo" class="footer__logo themedComponent_bJGS themedComponent--light_LEkC"><img src=/img/meta_opensource_logo_negative.svg alt="Meta Open Source Logo" class="footer__logo themedComponent_bJGS themedComponent--dark_jnGk"></a></div><div class=footer__copyright>Copyright ¬© 2024 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>